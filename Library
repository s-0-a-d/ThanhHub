-- GuiLibrary.lua
local GuiLibrary = {}
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local function createUICorner(radius)
	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, radius)
	return corner
end

function GuiLibrary:CreateWindow(titleText)
	local gui = Instance.new("ScreenGui")
	gui.Name = "OverdriveGUI"
	gui.ResetOnSpawn = false
	gui.Parent = LocalPlayer:WaitForChild("PlayerGui")

	local main = Instance.new("Frame", gui)
	main.Size = UDim2.new(0, 600, 0, 350)
	main.Position = UDim2.new(0.5, -300, 0.5, -175)
	main.BackgroundColor3 = Color3.fromRGB(0, 0, 255)
	main.BackgroundTransparency = 0.4
	main.BorderSizePixel = 0
	main.Active = true
	main.Draggable = true

	createUICorner(12).Parent = main

	local titleBar = Instance.new("Frame", main)
	titleBar.Size = UDim2.new(1, 0, 0, 35)
	titleBar.BackgroundColor3 = Color3.fromRGB(0, 0, 180)
	titleBar.BackgroundTransparency = 0.1
	titleBar.BorderSizePixel = 0
	createUICorner(12).Parent = titleBar

	local title = Instance.new("TextLabel", titleBar)
	title.Size = UDim2.new(1, -10, 1, 0)
	title.Position = UDim2.new(0, 5, 0, 0)
	title.BackgroundTransparency = 1
	title.Text = titleText
	title.TextColor3 = Color3.new(1, 1, 1)
	title.TextXAlignment = Enum.TextXAlignment.Left
	title.Font = Enum.Font.SourceSansBold
	title.TextSize = 20
	title.RichText = true

	local tabPanel = Instance.new("Frame", main)
	tabPanel.Size = UDim2.new(0, 120, 1, -35)
	tabPanel.Position = UDim2.new(0, 0, 0, 35)
	tabPanel.BackgroundTransparency = 1

	local contentPanel = Instance.new("Frame", main)
	contentPanel.Size = UDim2.new(1, -130, 1, -35)
	contentPanel.Position = UDim2.new(0, 130, 0, 35)
	contentPanel.BackgroundTransparency = 1

	local tabs = {}

	local function deselectAll()
		for _, tab in ipairs(tabs) do
			if tab.Content then
				tab.Content.Visible = false
			end
		end
	end

	local window = {}

	function window:CreateTab(name)
		local btn = Instance.new("TextButton", tabPanel)
		btn.Size = UDim2.new(1, -10, 0, 35)
		btn.Position = UDim2.new(0, 5, 0, (#tabs) * 40)
		btn.Text = name
		btn.BackgroundColor3 = Color3.fromRGB(10, 10, 100)
		btn.TextColor3 = Color3.new(1, 1, 1)
		btn.Font = Enum.Font.SourceSansBold
		btn.TextSize = 18
		createUICorner(8).Parent = btn

		local tabContent = Instance.new("Frame", contentPanel)
		tabContent.Size = UDim2.new(1, 0, 1, 0)
		tabContent.Visible = #tabs == 0
		tabContent.BackgroundTransparency = 1

		local tab = {}
		tab.Content = tabContent

		function tab:AddButton(text, callback)
			local btn = Instance.new("TextButton", tabContent)
			btn.Size = UDim2.new(0, 150, 0, 30)
			btn.Position = UDim2.new(0, 10, 0, (#tabContent:GetChildren()-1) * 40 + 10)
			btn.Text = text
			btn.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
			btn.TextColor3 = Color3.new(1, 1, 1)
			btn.Font = Enum.Font.SourceSans
			btn.TextSize = 18
			createUICorner(6).Parent = btn

			btn.MouseButton1Click:Connect(callback)
		end

		btn.MouseButton1Click:Connect(function()
			deselectAll()
			tabContent.Visible = true
		end)

		table.insert(tabs, tab)
		return tab
	end

	return window
end

return GuiLibrary

local window = GuiLib:CreateWindow("Overdrive H | ver <font color='rgb(0,255,0)'>2.0c</font> | <font color='rgb(0,200,255)'>Murder Mystery 2</font>")
local tab = window:CreateTab("Combat")
tab:AddButton("Shoot Murderer", function()
	print("Shoot Murderer Clicked!")
end)
